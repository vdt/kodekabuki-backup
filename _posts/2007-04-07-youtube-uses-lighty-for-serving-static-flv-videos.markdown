--- 
layout: default
title: Youtube uses lighty for serving static flv videos
tags: []

type: regular

---
<p>Bill Lubanovic&nbsp;wrote a nice article about <a href="http://www.lighttpd.net/">lighttpd web server</a>.</p> <blockquote> <p>Some web sites serve thousands of files in parallel, and are limited by memory and the maximum number of threads or processes. Dan Kegel has detailed the issues encountered when handling thousands of simultaneous connections in his page on the <a href="http://www.kegel.com/c10k.html">C10K problem</a>. In 2003, a German MySQL developer named Jan Kneschke became interested in this problem and believed he could write a faster web server than Apache by focusing on the right techniques. <strong>He designed lighttpd as a single process with a single thread and non-blocking I/O. Instead of <code>select</code>, he used the fastest event handler in the target system: <code>poll</code>, <code>epoll</code>, <code>kqueue</code>, or <code>/dev/poll</code>. He chose zero-copy system calls like <code>sendfile</code> rather than <code>read</code> and <code>write</code>. Within a few months, lighttpd was serving static files faster than Apache.</strong> <p>The next step was to handle dynamic (CGI) applications, particularly PHP. Kneschke dusted off FastCGI, invented by Open Market in the go-go early Internet days as a way to improve CGI performance. Rather than having the web server start the same external CGI program on each call, FastCGI was essentially a daemon to prestart the CGI application and handle communication between it and the web server. This was faster, but Perl and PHP were later absorbed into Apache as modules, which were even faster and gave them access to Apache's internal HTTP processing steps. FastCGI for Apache became neglected, but after it was added to lighttpd and hooked up with PHP, its performance met or exceeded that of Apache with mod_php. As an extra, the lighttpd implementation added automatic load balancing.</p></blockquote> <p>Source: <a href="http://www.onlamp.com/pub/a/onlamp/2007/04/05/the-lighttpd-web-server.html">ONLamp.com -- The lighttpd Web Server</a> </p> <div class="wlWriterSmartContent" id="0767317B-992E-4b12-91E0-4F059A8CECA8:bbee9276-b02e-4ae8-b220-65642041f5b4" contenteditable="false" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px">Technorati tags: <a href="http://technorati.com/tags/webserver" rel="tag">webserver</a>, <a href="http://technorati.com/tags/scaling" rel="tag">scaling</a>, <a href="http://technorati.com/tags/performance" rel="tag">performance</a>, <a href="http://technorati.com/tags/lighttpd" rel="tag">lighttpd</a>, <a href="http://technorati.com/tags/lighty" rel="tag">lighty</a>, <a href="http://technorati.com/tags/apache" rel="tag">apache</a>, <a href="http://technorati.com/tags/cgi" rel="tag">cgi</a>, <a href="http://technorati.com/tags/fastcgi" rel="tag">fastcgi</a>, <a href="http://technorati.com/tags/youtube" rel="tag">youtube</a>, <a href="http://technorati.com/tags/server" rel="tag">server</a></div>
